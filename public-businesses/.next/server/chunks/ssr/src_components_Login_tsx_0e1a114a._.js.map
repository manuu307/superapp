{"version":3,"sources":["../../../../src/components/Login.tsx"],"sourcesContent":["\"use client\";\nimport React, { useState, useContext } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { AuthContext } from '../context/AuthContext';\n\ninterface AuthContextType {\n  login: (token: string) => void;\n  // Add other AuthContext properties if they are used in this component\n}\n\nconst Login = () => {\n  const [email, setEmail] = useState<string>('');\n  const [password, setPassword] = useState<string>('');\n  const [error, setError] = useState<string>('');\n  const { login } = useContext(AuthContext) as AuthContextType;\n  const router = useRouter();\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError('');\n\n    if (!email || !password) {\n      setError('Please fill in all required fields.');\n      return;\n    }\n\n    try {\n      const response = await fetch('/api/auth/login', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ email, password }),\n      });\n      const data = await response.json();\n      if (response.ok && data.token) {\n        login(data.token);\n        router.push('/');\n      } else {\n        setError(data.message || 'Login failed.');\n      }\n    } catch (error) {\n      console.error('Error logging in:', error);\n      setError('An error occurred. Please try again.');\n    }\n  };\n\n  return (\n    <form onSubmit={handleSubmit} className=\"space-y-6\">\n      <h2 className=\"text-2xl font-bold text-center\">Login</h2>\n      {error && <p className=\"text-red-500 text-center\">{error}</p>}\n      <input\n        type=\"email\"\n        placeholder=\"Email\"\n        value={email}\n        onChange={(e: React.ChangeEvent<HTMLInputElement>) => setEmail(e.target.value)}\n        required\n        className=\"w-full px-4 py-2 bg-gray-200 border border-transparent rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700\"\n      />\n      <input\n        type=\"password\"\n        placeholder=\"Password\"\n        value={password}\n        onChange={(e: React.ChangeEvent<HTMLInputElement>) => setPassword(e.target.value)}\n        required\n        className=\"w-full px-4 py-2 bg-gray-200 border border-transparent rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700\"\n      />\n      <button type=\"submit\" className=\"w-full px-4 py-2 font-bold text-white bg-blue-500 rounded-md hover:bg-blue-700\">Login</button>\n    </form>\n  );\n};\n\nexport default Login;\n"],"names":[],"mappings":"wDACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,wBAOc,KACZ,GAAM,CAAC,EAAO,EAAS,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,EAAiB,IACrC,CAAC,EAAU,EAAY,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAS,IAC3C,CAAC,EAAO,EAAS,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAS,IACrC,OAAE,CAAK,CAAE,CAAG,CAAA,EAAA,EAAA,UAAA,AAAU,EAAC,EAAA,WAAW,EAClC,EAAS,CAAA,EAAA,EAAA,SAAA,AAAS,IAElB,EAAe,MAAO,IAI1B,GAHA,EAAE,cAAc,GAChB,EAAS,IAEL,CAAC,GAAS,CAAC,EAAU,YACvB,EAAS,uCAIX,GAAI,CACF,IAAM,EAAW,MAAM,MAAM,kBAAmB,CAC9C,OAAQ,OACR,QAAS,CACP,eAAgB,kBAClB,EACA,KAAM,KAAK,SAAS,CAAC,OAAE,WAAO,CAAS,EACzC,GACM,EAAO,MAAM,EAAS,IAAI,GAC5B,EAAS,EAAE,EAAI,EAAK,KAAK,EAAE,AAC7B,EAAM,EAAK,KAAK,EAChB,EAAO,IAAI,CAAC,MAEZ,EAAS,EAAK,OAAO,EAAI,gBAE7B,CAAE,MAAO,EAAO,CACd,QAAQ,KAAK,CAAC,oBAAqB,GACnC,EAAS,uCACX,CACF,EAEA,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,SAAU,EAAc,UAAU,sBACtC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,0CAAiC,UAC9C,GAAS,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,oCAA4B,IACnD,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,QACL,YAAY,QACZ,MAAO,EACP,SAAW,AAAD,GAA4C,EAAS,EAAE,MAAM,CAAC,KAAK,EAC7E,QAAQ,CAAA,CAAA,EACR,UAAU,2IAEZ,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,WACL,YAAY,WACZ,MAAO,EACP,SAAU,AAAC,GAA2C,EAAY,EAAE,MAAM,CAAC,KAAK,EAChF,QAAQ,CAAA,CAAA,EACR,UAAU,2IAEZ,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,KAAK,SAAS,UAAU,0FAAiF,YAGvH"}