{"version":3,"sources":["../../../../src/components/ProtectedRoute.tsx","../../../../src/app/withProtectedRoute.tsx","../../../../src/components/Profile.tsx","../../../../src/components/ProfileSidebar.tsx","../../../../src/components/UsersCatalog.tsx","../../../../src/components/ProfileMainContent.tsx","../../../../src/app/profile/page.tsx"],"sourcesContent":["import React, { useContext } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { AuthContext } from '../context/AuthContext';\n\ninterface AuthContextType {\n  token: string | null;\n  loading: boolean;\n  // Add other AuthContext properties if they are used in this component\n}\n\ninterface ProtectedRouteProps {\n  children: React.ReactNode;\n}\n\nconst ProtectedRoute: React.FC<ProtectedRouteProps> = ({ children }) => {\n  const { token, loading } = useContext(AuthContext) as AuthContextType;\n  const router = useRouter();\n\n  console.log('ProtectedRoute - loading:', loading, 'token:', token);\n\n  if (loading) {\n    return <div>Loading...</div>;\n  }\n\n  if (!token) {\n    router.push('/login');\n    return null; // or a loading spinner, or redirecting message\n  }\n\n  return <>{children}</>;\n};\n\nexport default ProtectedRoute;\n","\"use client\";\nimport ProtectedRoute from \"@/components/ProtectedRoute\";\nimport React from \"react\";\n\nexport function withProtectedRoute(Component: React.ComponentType) {\n  return function Protected(props: any) {\n    return (\n      <ProtectedRoute>\n        <Component {...props} />\n      </ProtectedRoute>\n    );\n  };\n}\n","import React, { useContext } from 'react';\nimport ProfileSidebar from './ProfileSidebar';\nimport ProfileMainContent from './ProfileMainContent';\nimport { AuthContext } from '../context/AuthContext';\n\ninterface User {\n  username: string;\n  name?: string;\n  lastname?: string;\n  nickname?: string;\n  tags?: string[];\n  description?: string;\n  website?: string;\n  profilePicture?: string;\n}\n\ninterface AuthContextType {\n  user: User | null;\n  // Add other AuthContext properties if they are used in this component\n}\n\nconst Profile = () => {\n  const { user } = useContext(AuthContext) as AuthContextType;\n\n  if (!user) {\n    return <div>Loading profile...</div>;\n  }\n\n  return (\n    <div className=\"flex h-full p-4 space-x-4 bg-gray-100 dark:bg-gray-900\">\n      <ProfileSidebar />\n      <ProfileMainContent />\n    </div>\n  );\n};\n\nexport default Profile;","\"use client\";\nimport React, { useState, useEffect, useRef, useContext } from 'react';\nimport { AuthContext } from '../context/AuthContext';\n\ninterface User {\n  username: string;\n  name?: string;\n  lastname?: string;\n  nickname?: string;\n  tags?: string[];\n  description?: string;\n  website?: string;\n  profilePicture?: string;\n}\n\ninterface AuthContextType {\n  user: User | null;\n  token: string | null;\n  refetchUser: () => void;\n}\n\ninterface FormDataState {\n  name: string;\n  lastname: string;\n  nickname: string;\n  tags: string[];\n  description: string;\n  website: string;\n}\n\nconst ProfileSidebar = () => {\n  const { user, token, refetchUser } = useContext(AuthContext) as AuthContextType;\n  const [isEditing, setIsEditing] = useState<boolean>(false);\n  const [formData, setFormData] = useState<FormDataState>({\n    name: '',\n    lastname: '',\n    nickname: '',\n    tags: [],\n    description: '',\n    website: ''\n  });\n  const [profilePictureFile, setProfilePictureFile] = useState<File | null>(null);\n  const [error, setError] = useState<string>('');\n  const fileInputRef = useRef<HTMLInputElement>(null);\n\n  useEffect(() => {\n    if (user) {\n      setFormData({\n        name: user.name || '',\n        lastname: user.lastname || '',\n        nickname: user.nickname || '',\n        tags: user.tags || [],\n        description: user.description || '',\n        website: user.website || ''\n      });\n    }\n  }, [user]);\n\n  const { name, lastname, nickname, tags, description, website } = formData;\n\n  const onChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => setFormData({ ...formData, [e.target.name]: e.target.value });\n  const onTagsChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setFormData({ ...formData, tags: e.target.value.split(',').map(tag => tag.trim()) });\n  };\n\n  const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    if (e.target.files && e.target.files.length > 0) {\n      setProfilePictureFile(e.target.files[0]);\n    }\n  };\n\n  const handleUploadClick = () => {\n    fileInputRef.current?.click();\n  };\n\n  const uploadProfilePicture = async () => {\n    if (!profilePictureFile || !token) return;\n\n    const uploadFormData = new FormData();\n    uploadFormData.append('file', profilePictureFile);\n\n    try {\n      const uploadRes = await fetch('/api/files/upload', {\n        method: 'POST',\n        headers: {\n          'x-auth-token': token\n        },\n        body: uploadFormData\n      });\n\n      if (!uploadRes.ok) {\n        throw new Error('File upload failed');\n      }\n\n      const { url } = await uploadRes.json();\n\n      const updateRes = await fetch('/api/users/profile-picture', {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n          'x-auth-token': token\n        },\n        body: JSON.stringify({ url })\n      });\n\n      if (!updateRes.ok) {\n        throw new Error('Profile picture update failed');\n      }\n\n      refetchUser();\n      setProfilePictureFile(null);\n    } catch (err: any) {\n      console.error(err);\n      setError(err.message || 'Failed to upload profile picture.');\n    }\n  };\n\n\n  const onSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError('');\n\n    if (!name || !lastname) {\n      setError('Name and Last Name are required.');\n      return;\n    }\n\n    try {\n      const res = await fetch('/api/users/profile', {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n          'x-auth-token': token || ''\n        },\n        body: JSON.stringify(formData)\n      });\n\n      if (!res.ok) {\n        const errData = await res.json();\n        throw new Error(errData.message || 'Failed to update profile.');\n      }\n\n      refetchUser();\n      setIsEditing(false);\n    } catch (err: any) {\n      console.error(err);\n      setError(err.message || 'Failed to update profile.');\n    }\n  };\n\n  if (!user) {\n    return <div>Loading...</div>\n  }\n\n  return (\n    <div className=\"w-1/4 p-4 space-y-4 bg-white rounded-lg shadow-md dark:bg-gray-800\">\n      <div className=\"text-center\">\n        <img\n          src={user.profilePicture || 'https://via.placeholder.com/150'}\n          alt=\"Profile\"\n          className=\"object-cover w-32 h-32 mx-auto rounded-full cursor-pointer\"\n          onClick={handleUploadClick}\n        />\n        <input\n          type=\"file\"\n          ref={fileInputRef}\n          onChange={handleFileChange}\n          className=\"hidden\"\n          accept=\"image/*\"\n        />\n        {profilePictureFile && <button onClick={uploadProfilePicture} className=\"w-full px-4 py-2 mt-2 font-bold text-white bg-green-500 rounded-md hover:bg-green-700\">Save Picture</button>}\n      </div>\n      <h3 className=\"text-2xl font-bold text-center\">{user.username}</h3>\n      {isEditing ? (\n        <form onSubmit={onSubmit} className=\"space-y-4\">\n          {error && <p className=\"text-red-500 text-center\">{error}</p>}\n          <input type=\"text\" placeholder=\"Name\" name=\"name\" value={name} onChange={onChange} required className=\"w-full px-4 py-2 bg-gray-200 border border-transparent rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700\" />\n          <input type=\"text\" placeholder=\"Last Name\" name=\"lastname\" value={lastname} onChange={onChange} required className=\"w-full px-4 py-2 bg-gray-200 border border-transparent rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700\" />\n          <input type=\"text\" placeholder=\"Nickname\" name=\"nickname\" value={nickname} onChange={onChange} className=\"w-full px-4 py-2 bg-gray-200 border border-transparent rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700\" />\n          <input type=\"text\" placeholder=\"Tags (comma separated)\" value={tags.join(', ')} onChange={onTagsChange} className=\"w-full px-4 py-2 bg-gray-200 border border-transparent rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700\" />\n          <textarea placeholder=\"Description\" name=\"description\" value={description} onChange={onChange} className=\"w-full px-4 py-2 bg-gray-200 border border-transparent rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700\"></textarea>\n          <input type=\"text\" placeholder=\"Website URL\" name=\"website\" value={website} onChange={onChange} className=\"w-full px-4 py-2 bg-gray-200 border border-transparent rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700\" />\n          <button type=\"submit\" className=\"w-full px-4 py-2 font-bold text-white bg-blue-500 rounded-md hover:bg-blue-700\">Save</button>\n          <button type=\"button\" onClick={() => setIsEditing(false)} className=\"w-full px-4 py-2 mt-2 font-bold text-white bg-gray-500 rounded-md hover:bg-gray-700\">Cancel</button>\n        </form>\n      ) : (\n        <div className=\"space-y-2\">\n          <p><strong>Name:</strong> {user.name}</p>\n          <p><strong>Last Name:</strong> {user.lastname}</p>\n          <p><strong>Nickname:</strong> {user.nickname}</p>\n          <p><strong>Description:</strong> {user.description}</p>\n          <p><strong>Website:</strong> <a href={user.website} target=\"_blank\" rel=\"noopener noreferrer\" className=\"text-blue-500 hover:underline\">{user.website}</a></p>\n          <div className=\"flex py-2 flex-wrap gap-2\">\n            {user.tags && user.tags.map(tag => <span key={tag} className=\"px-2 py-1 text-sm text-white bg-blue-500 rounded-full\">{tag}</span>)}\n          </div>\n          <button onClick={() => setIsEditing(true)} className=\"w-full px-4 py-2 font-bold text-white bg-blue-500 rounded-md hover:bg-blue-700\">Edit Profile</button>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ProfileSidebar;","\"use client\";\nimport React, { useContext, useState } from 'react';\nimport { AuthContext } from '../context/AuthContext';\n\ninterface CatalogItem {\n  _id: string;\n  title: string;\n  mediaType: 'image' | 'video';\n  mediaUrl: string;\n  description: string;\n}\n\ninterface User {\n  username: string;\n  catalog?: CatalogItem[]; // Assuming catalog is an optional array of CatalogItem\n}\n\ninterface AuthContextType {\n  user: User | null;\n  // Add other AuthContext properties if they are used in this component\n}\n\nconst UsersCatalog = () => {\n  const { user } = useContext(AuthContext) as AuthContextType;\n  const [selectedItem, setSelectedItem] = useState<CatalogItem | null>(null);\n\n  const openItemView = (item: CatalogItem) => {\n    setSelectedItem(item);\n  };\n\n  const closeItemView = () => {\n    setSelectedItem(null);\n  };\n\n  if (!user || !user.catalog || user.catalog.length === 0) {\n    return <div>No catalog items.</div>;\n  }\n\n  return (\n    <div className=\"p-4 space-y-4 bg-white rounded-lg shadow-md dark:bg-gray-800\">\n      <h2 className=\"text-2xl font-bold\">My Catalog</h2>\n      <div className=\"grid grid-cols-1 gap-4 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4\">\n        {user.catalog.map((item: CatalogItem) => (\n          <div key={item._id} onClick={() => openItemView(item)} className=\"p-4 space-y-2 bg-gray-200 rounded-lg shadow-md cursor-pointer dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600\">\n            <h4 className=\"text-lg font-bold\">{item.title}</h4>\n            {item.mediaType === 'image' && <img src={item.mediaUrl} alt={item.title} className=\"w-full rounded-md\" />}\n            {item.mediaType === 'video' && <video src={item.mediaUrl} controls className=\"w-full rounded-md\" />}\n            <p>{item.description}</p>\n          </div>\n        ))}\n      </div>\n\n      {selectedItem && (\n        <div className=\"fixed top-0 left-0 flex items-center justify-center w-full h-full bg-black bg-opacity-80\" onClick={closeItemView}>\n          <div className=\"p-8 m-4 space-y-4 overflow-auto bg-white rounded-lg shadow-md max-w-3xl max-h-3/4 dark:bg-gray-800\">\n            <h2 className=\"text-3xl font-bold\">{selectedItem.title}</h2>\n            {selectedItem.mediaType === 'image' && <img src={selectedItem.mediaUrl} alt={selectedItem.title} className=\"w-full rounded-md\" />}\n            {selectedItem.mediaType === 'video' && <video src={selectedItem.mediaUrl} controls className=\"w-full rounded-md\" />}\n            <p>{selectedItem.description}</p>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default UsersCatalog;","\"use client\";\nimport React, { useState, useContext } from 'react';\nimport UsersCatalog from './UsersCatalog';\nimport { AuthContext } from '../context/AuthContext';\n\ninterface Contact {\n  _id: string;\n  username: string;\n}\n\ninterface User {\n  _id: string;\n  username: string;\n  email?: string;\n  name?: string;\n  lastname?: string;\n  nickname?: string;\n  tags?: string[];\n  description?: string;\n  website?: string;\n  profilePicture?: string;\n  rooms?: string[];\n  catalog?: any[];\n  contacts?: Contact[];\n}\n\ninterface AuthContextType {\n  token: string | null;\n  user: User | null;\n  login: (newToken: string) => void;\n  logout: () => void;\n  loading: boolean;\n  refetchUser: () => void;\n}\n\nconst ProfileMainContent = () => {\n  const { user, token, refetchUser } = useContext(AuthContext) as AuthContextType;\n  const [searchQuery, setSearchQuery] = useState<string>('');\n  const [searchResults, setSearchResults] = useState<Contact[]>([]);\n\n  const handleSearch = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!searchQuery) return;\n    try {\n      const response = await fetch(`/api/users/search?query=${searchQuery}`, {\n        headers: { 'x-auth-token': token || '' }\n      });\n      const data: Contact[] = await response.json();\n      setSearchResults(data);\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  const addContact = async (userId: string) => {\n    try {\n      await fetch(`/api/users/contacts/add/${userId}`, {\n        method: 'POST',\n        headers: { 'x-auth-token': token || '' }\n      });\n      refetchUser();\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  const removeContact = async (userId: string) => {\n    try {\n      await fetch(`/api/users/contacts/remove/${userId}`, {\n        method: 'DELETE',\n        headers: { 'x-auth-token': token || '' }\n      });\n      refetchUser();\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  if (!user) {\n    return <div>Loading...</div>\n  }\n\n  return (\n    <>\n    <div className=\"flex-1 p-4 space-y-4 bg-white rounded-lg shadow-md dark:bg-gray-800\">\n      <div>\n        <h4 className=\"mb-2 text-xl font-bold\">Rooms</h4>\n        <ul className=\"space-y-2\">\n          {user.rooms && user.rooms.map((room: string) => <li key={room} className=\"p-2 bg-gray-200 rounded-md dark:bg-gray-700\">{room}</li>)}\n        </ul>\n      </div>\n      <UsersCatalog />\n    </div>\n        <div className=\"flex-1 p-4 space-y-4 bg-white rounded-lg shadow-md dark:bg-gray-800\">\n        <h4 className=\"mb-2 text-xl font-bold\">Contacts</h4>\n        <ul className=\"space-y-2\">\n          {user.contacts && user.contacts.map((contact: Contact) => (\n            <li key={contact._id} className=\"flex items-center justify-between p-2 bg-gray-200 rounded-md dark:bg-gray-700\">\n              <span>{contact.username}</span>\n              <button onClick={() => removeContact(contact._id)} className=\"px-3 py-1 font-bold text-white bg-red-500 rounded-md hover:bg-red-700\">Remove</button>\n            </li>\n          ))}\n        </ul>\n        <div className=\"mt-4\">\n          <h5 className=\"mb-2 text-lg font-bold\">Add Contact</h5>\n          <form onSubmit={handleSearch} className=\"flex\">\n            <input\n              type=\"text\"\n              placeholder=\"Search for users...\"\n              value={searchQuery}\n              onChange={(e: React.ChangeEvent<HTMLInputElement>) => setSearchQuery(e.target.value)}\n              className=\"flex-1 px-4 py-2 mr-2 bg-gray-200 border border-transparent rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700\"\n            />\n            <button type=\"submit\" className=\"px-4 py-2 font-bold text-white bg-blue-500 rounded-md hover:bg-blue-700\">Search</button>\n          </form>\n          <ul className=\"mt-2 space-y-2\">\n            {searchResults.map((foundUser: Contact) => (\n              <li key={foundUser._id} className=\"flex items-center justify-between p-2 bg-gray-200 rounded-md dark:bg-gray-700\">\n                <span>{foundUser.username}</span>\n                <button onClick={() => addContact(foundUser._id)} className=\"px-3 py-1 font-bold text-white bg-green-500 rounded-md hover:bg-green-700\">Add</button>\n              </li>\n            ))}\n          </ul>\n        </div>\n      </div>\n      </>\n  );\n};\n\nexport default ProfileMainContent;\n","\"use client\";\nimport React from 'react';\nimport Profile from '@/components/Profile';\nimport { withProtectedRoute } from '../withProtectedRoute';\n\nconst ProfilePage = () => {\n  return <Profile />;\n};\n\nexport default withProtectedRoute(ProfilePage);\n"],"names":[],"mappings":"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"}