(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33525,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"warnOnce",{enumerable:!0,get:function(){return u}});let u=e=>{}},1057,e=>{"use strict";var t=e.i(43476),r=e.i(71645);let u=(0,r.createContext)(void 0),s=({children:e,businessId:s})=>{let[n,l]=(0,r.useState)(null),[i,o]=(0,r.useState)(!0),[c,a]=(0,r.useState)(null),[d,f]=(0,r.useState)([]),[p,b]=(0,r.useState)(null),v=async()=>{if(!s){a("Business ID is required"),o(!1);return}o(!0),a(null);try{let e=await fetch(`http://192.168.1.10/api/v1/public/stores/${s}`);if(!e.ok)throw Error(`Error fetching business data: ${e.statusText}`);let t=await e.json();if(l(t),t.products&&t.products.length>0){let e=t.products.reduce((e,t)=>[...e,...t.categories],[]),r=[...new Set(e)];f(r)}else f([])}catch(e){a(e.message)}finally{o(!1)}},y=(0,r.useMemo)(()=>{if(n?.products)return p?n.products.filter(e=>e.categories.includes(p)):n.products},[n,p]);return(0,r.useEffect)(()=>{s?v():(o(!1),a("No business ID provided"))},[s]),(0,t.jsx)(u.Provider,{value:{businessData:n,loading:i,error:c,categories:d,activeCategory:p,filteredProducts:y,fetchBusinessData:v,setActiveCategory:b,resetCategoryFilter:()=>{b(null)}},children:e})};e.s(["BusinessContext",()=>u,"BusinessProvider",()=>s,"useBusiness",0,()=>{let e=(0,r.useContext)(u);if(void 0===e)throw Error("useBusiness must be used within a BusinessProvider");return e}])},18581,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"useMergedRef",{enumerable:!0,get:function(){return s}});let u=e.r(71645);function s(e,t){let r=(0,u.useRef)(null),s=(0,u.useRef)(null);return(0,u.useCallback)(u=>{if(null===u){let e=r.current;e&&(r.current=null,e());let t=s.current;t&&(s.current=null,t())}else e&&(r.current=n(e,u)),t&&(s.current=n(t,u))},[e,t])}function n(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let r=e(t);return"function"==typeof r?r:()=>e(null)}}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)}]);